unit Controller_Configuracao;
////Unit de controle das configurações do sistema.

interface
uses DateUtils, IniFiles, StrUtils, SysUtils, Dialogs, Model_Configuracao;




//funções
function Controller_Configuracao_ID():integer;
function Controller_Configuracao_LocalFoto():string;


//procedimentos
procedure Controller_Configuracao_Gravar(id:integer;Configuracao:string;campo:integer);
procedure Controller_Configuracao_PreencherCamposLocalFoto;


//tipos
type
   Config = record
   id_:Integer;
   localFoto:string;
end;

//Variáveis
var Configuracao_:TConfiguracao;
    controller_dados : Config;




implementation

uses Controller_Acesso;

procedure Controller_Configuracao_Gravar(id:integer;Configuracao:string;campo:integer);
begin
    Configuracao_:=TConfiguracao.Create;

    case (campo) of
     1:begin
        if (Configuracao.IsEmpty) then
            begin
              ShowMessage('Obrigatório informar local para gravação das fotos!.');
              abort;
            end
        else
           Configuracao_.Model_Configuracao_Gravar(id,Configuracao,campo)
       end;
    end;
end;

procedure Controller_Configuracao_PreencherCamposLocalFoto;
begin
  //preencher tela.
  Configuracao_:=TConfiguracao.Create;
  Configuracao_.Model_Configuracao_PreencherCampoLocalFoto(1);
end;

function Controller_Configuracao_ID():integer;
begin
  Result:=controller_dados.id_;
end;
function Controller_Configuracao_LocalFoto():string;
begin
  Result:=controller_dados.localFoto;
end;


end.
