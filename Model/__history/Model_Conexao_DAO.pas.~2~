unit Model_Conexao_DAO;

interface
uses Model_Conexao, FireDAC.Comp.Client, System.SysUtils;

type
  TDAOConexao = class
  protected
    Conexao: TFDConnection;
    Qry: TFDQuery;
  public
    Constructor Create;
    Destructor Destroy; override;
  end;

implementation

{ TDAOConexao }

uses Model_Acesso, UDataModel;

constructor TDAOConexao.Create;
begin
  AtivarConecao(1);
  Conexao := DataModel.DBConexao.Connected:=true;
  Qry := TFDQuery.Create(nil);
  Qry.Connection:=Conexao;
end;

destructor TDAOConexao.Destroy;
begin
  FreeAndNil(Qry);
  Conexao.Connected := False;
  FreeAndNil(Conexao);
  inherited;
end;



end.
